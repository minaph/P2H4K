const{chromium}=require("playwright"),fs=require("fs"),path=require("path"),main=fs.readFileSync(path.join(__dirname,"webScript.js"),"utf8"),filePath=path.resolve(process.cwd(),process.argv[2]),destDir=process.argv[3];console.log("Running Playwright..."),(async()=>{const e=await chromium.launch(),a=await e.newPage();a.on("console",(async e=>{for(let a=0;a<e.args().length;++a)console.log(`${a}: ${await e.args()[a].jsonValue()}`)})),await a.goto(`file:///${filePath.replace(/\\/g,"/")}`),await a.evaluate(`${main}`);const o=`<html>${await a.innerHTML("html")}</html>`;console.log("HTML Length: "+o.length),await e.close();const t=path.join(destDir,path.basename(filePath));console.log(t),fs.writeFile(t,o,(e=>{if(e)throw e;console.log("Done")}))})();